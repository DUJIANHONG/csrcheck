<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.csr.csrcheck.mapper.Abnormal_productsMapper">

    <resultMap id="pid" type="com.csr.csrcheck.pojo.Abnormal_products">
        <id column="id" property="id"></id>
        <result column="product_id" property="product_id"></result>
        <result column="batch_no" property="batch_no"></result>
        <result column="approval_no" property="approval_no"></result>
        <result column="disqualification" property="disqualification"></result>
        <result column="inspection_result" property="inspection_result"></result>
        <result column="standard_code" property="standard_code"></result>
        <result column="agencies_to_verify" property="agencies_to_verify"></result>
        <result column="last" property="last"></result>
        <result column="provenance" property="provenance"></result>
        <association property="product"  javaType="Product">
            <id column="product_id" property="product_id"></id>
            <result column="product_name" property="product_name"></result>
        </association>
    </resultMap>

    <select id="abnormallsit" resultMap="pid">
  SELECT abnormal_products.*,product.`product_name`
  FROM abnormal_products ,product
  WHERE abnormal_products.`product_id`=product.`product_id`
    </select>
</mapper>