<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<div id="address-list">
</div>
<div><input type="text" id="text"></div>
<script src="js/jquery.min.js"></script>
<script type="text/javascript">
$(function () {

    $("#text").blur(function () {
        var Name=$("#text").val();
        $.ajax({
            "type":"get",
            "url":"company/companylist2",
            "data":{name:Name},
            "dataType":"json",
            success:function (json) {
                var attr=json.data.length;
                var list=json.data;
                console.log(attr);
                for (var i = 0; i <list.length ; i++) {
                    console.log(list[i].company_name);
                }
            }
        })
    })





    $.ajax({
            "type":"get",
            "url":"company/companylist",
            "dataType":"json",
        success:function (json) {
            var attr=json.data.length;
            var list=json.data;
            console.log(attr);
            for (var i = 0; i <list.length ; i++) {
                console.log(list[i].company_name);
            }
        }
    })


        $.ajax({
            "url":"company/companylist",
            "type":"get",
            "dataType":"json",
            "success":function(json) {
                if (json.state == 2000) {
                    let list = json.data;
                    console.log("count=" + list.length);
                    for (let i = 0; i < list.length; i++) {
                        console.log(list[i].name);
                        let html = '<tr>'
                            + '<td>#{tag}</td>'
                            + '<td>#{name}</td>'
                            + '<td>#{provinceName}#{cityName}#{areaName}#{address}</td>'
                            + '<td>#{phone}</td>'
                            + '<td><a class="btn btn-xs btn-info"><span class="fa fa-edit"></span> 修改</ a></td>'
                            + '<td><a class="btn btn-xs add-del btn-info"><span class="fa fa-trash-o"></span> 删除</ a></td>'
                            + '<td><a class="btn btn-xs add-def btn-default" onclick="setDefault(#{aid})">设为默认</ a></td>'
                            + '</tr>';

                        html = html.replace('#{aid}', list[i].company_name);
                        html = html.replace('#{tag}', list[i].company_address);
                        html = html.replace('#{name}', list[i].type_ownership);
                        html = html.replace('#{provinceName}', list[i].main_business);
                        html = html.replace('#{cityName}', list[i].strategic_focus);
                        html = html.replace('#{areaName}', list[i].ten_shareholders);
                        html = html.replace('#{address}', list[i].number_patents);
                        html = html.replace('#{phone}', list[i].company_ranking);

                        $("#address-list").append(html);
                    }
                } else {
                    alert("获取收货地址数据失败！" + json.message + "！");
                }
            }
        });
})
</script>
</body>
</html>